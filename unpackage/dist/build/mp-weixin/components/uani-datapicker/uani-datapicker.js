"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-icons")+e.resolveComponent("uni-transition"))()}Math||((()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../uni_modules/uni-transition/components/uni-transition/uni-transition.js"))();const l={__name:"uani-datapicker",props:{clear:{type:Boolean,default:!1},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},defaulttext:{type:[String,Number],default:""},custext:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},emptytext:{type:String,default:"无 数 据"},localdata:{type:Array,default:()=>[]},saoma:{type:Function,default:()=>{}}},emits:["input","onSelect","click","popupclosed","update:modelValue"],setup(l,{emit:t}){const a=l,u=e.ref(!1),o=e.ref(!1);e.ref();const n=e.ref([]),i=e.ref("");e.ref(!0),e.ref(!1);const c={disableColor:"#fff",color:"#000"};e.watch((()=>a.localdata),((e,l)=>{n.value=e,n.value.length<=0&&(i.value="",t("input",null))}),{deep:!0}),e.watch((()=>a.modelValue),((e,l)=>{const t=n.value.find((l=>l.value==e));d(t)}),{deep:!0}),e.onLoad((()=>{i.value=a.defaulttext}));const s=()=>{t("input",""),t("update:modelValue",""),t("onSelect",""),setTimeout((()=>{p()}))},d=l=>{let u;l?u=l.value:(i.value="",u=""),a.custext?i.value=l.custext:e.nextTick$1((()=>{l&&(i.value=l.text)})),t("input",u),t("update:modelValue",u),t("onSelect",l),p()},p=()=>{u.value=!1,o.value=!1,t("popupclosed")};return(r,f)=>e.e({a:e.o((e=>i.value=e)),b:e.p({"disabled-class":"custom-disabled-class",styles:c,placeholder:l.placeholder,suffixIcon:"arrowdown",disabled:!0,modelValue:i.value}),c:l.clear&&i.value},l.clear&&i.value?{d:e.o(s),e:e.p({type:"clear",color:"#c0c4cc",size:"22"})}:{},{f:e.o((e=>(o.value=!0,u.value=!0,t("click"),void(n.value=a.localdata)))),g:u.value},u.value?{h:e.o(p)}:{},{i:u.value},u.value?e.e({j:e.t(l.placeholder),k:n.value.length>0},n.value.length>0?{l:e.f(n.value,((t,a,u)=>e.e({a:l.modelValue==t.value},l.modelValue==t.value?{b:"3ffbb81a-3-"+u+",3ffbb81a-2",c:e.p({type:"circle-filled",color:"#0062ff",size:"20"})}:{d:"3ffbb81a-4-"+u+",3ffbb81a-2",e:e.p({type:"circle",size:"20",color:"#999"})},{f:e.t(t.text),g:e.o((e=>d(t)),a),h:a})))}:{},{m:n.value.length<=0},n.value.length<=0?{n:e.t(l.emptytext)}:{},{o:e.p({duration:200,"mode-class":["slide-bottom"],show:o.value}),p:u.value?1:""}):{})}};wx.createComponent(l);
