"use strict";const e=require("../../../common/vendor.js");require("../../../network/request.js"),require("../../../stores/index.js");const n=require("../../../utils/time.js"),i=require("../../../stores/modules/user.js");if(require("../../../config/global-config.js"),!Array){(e.resolveComponent("uni-notice-bar")+e.resolveComponent("uni-section")+e.resolveComponent("uni-grid-item")+e.resolveComponent("uni-grid"))()}Math||((()=>"../../../uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar.js")+(()=>"../../../uni_modules/uni-section/components/uni-section/uni-section.js")+(()=>"../../../uni_modules/uni-grid/components/uni-grid-item/uni-grid-item.js")+(()=>"../../../uni_modules/uni-grid/components/uni-grid/uni-grid.js"))();const a={__name:"index",setup(a){i.useUserStore();const g=e.ref(e.index.getStorageSync("user").name),o=e.ref(["/static/images/banner/tu1.jpg","/static/images/banner/tu2.jpg","/static/images/banner/tu3.jpg"]),u=()=>{e.index.navigateTo({url:"/pagesGonggao/home/home"})},s=e.ref(""),t=e.ref(),l=n=>{e.index.navigateTo({url:n.pageurl})},r=e.ref([]),c=e.ref([{index:0,name:"入栏建档",imgurl:"/static/images/icon3/jilu2.png",pageurl:"/pagesYuzhong/rulan/rulan",show:!0,id:7},{index:1,name:"种鹿评定采集",imgurl:"/static/images/icon3/jilu3.png",pageurl:"/pagesYuzhong/zhonglucj/zhonglucj",show:!0,id:8},{index:2,name:"初生选留",imgurl:"/static/images/icon3/jilu5.png",pageurl:"/pagesYuzhong/chushengxl/chushengxl",id:9},{index:3,name:"种鹿配种",imgurl:"/static/images/icon3/chaxun2.png",pageurl:"/pagesYuzhong/zhonglupz/zhonglupz",show:!0,id:10},{index:4,name:"种鹿选留",imgurl:"/static/images/icon3/chaxun3.png",pageurl:"/pagesYuzhong/zhongluxl/zhongluxl",show:!0,id:11},{index:5,name:"生产参数查看",imgurl:"/static/images/icon3/chaxun4.png",pageurl:"/pagesYuzhong/shengchanck/shengchanck",show:!0,id:12},{index:6,name:"选育标准查看",imgurl:"/static/images/icon3/chaxun5.png",pageurl:"/pagesYuzhong/xuanyuck/xuanyuck",show:!0,id:13},{index:6,name:"疫苗查看",imgurl:"/static/images/icon3/jilu8.png",pageurl:"/pagesYuzhong/yimiaock/yimiaock",show:!0,id:14},{index:6,name:"药物查看",imgurl:"/static/images/icon3/yaowu.png",pageurl:"/pagesYuzhong/yaowuck/yaowuck",show:!0,id:15},{index:6,name:"配方查看",imgurl:"/static/images/icon3/jilu6.png",pageurl:"/pagesYuzhong/peifangck/peifangck",show:!0,id:16}]),d=e.ref([{index:0,name:"养殖计划查看",imgurl:"/static/images/icon3/chaxun1.png",pageurl:"/pagesYangzhi/yangzhijhck/yangzhijhck",show:!0,id:1},{index:1,name:"鹿只档案",imgurl:"/static/images/icon3/chaxun11.png",pageurl:"/pagesYangzhi/luzhida/luzhida",show:!0,id:2},{index:2,name:"养殖过程采集",imgurl:"/static/images/icon3/chaxun2.png",pageurl:"/pagesYangzhi/yangzhicj/yangzhicj",show:!0,id:3},{index:3,name:"防疫过程采集",imgurl:"/static/images/icon3/chaxun3.png",pageurl:"/pagesYangzhi/fangyicj/fangyicj",show:!0,id:4},{index:4,name:"出栏采集",imgurl:"/static/images/icon3/chaxun4.png",pageurl:"/pagesYangzhi/chulan/chulan",show:!0,id:5},{index:5,name:"鹿茸采集管理",imgurl:"/static/images/icon3/chaxun5.png",pageurl:"/pagesYangzhi/lurongcj/lurongcj",show:!0,id:6}]),h=e.ref([{index:0,name:"养殖标准库",imgurl:"/static/images/icon3/jilu8.png",pageurl:"/pagesBiaozhun/yangzhi/yangzhi",show:!0,id:17},{index:0,name:"育种标准库",imgurl:"/static/images/icon3/jilu3.png",pageurl:"/pagesBiaozhun/yuzhong/yuzhong",show:!0,id:18},{index:0,name:"病疫标准库",imgurl:"/static/images/icon3/jilu4.png",pageurl:"/pagesBiaozhun/bingyi/bingyi",show:!0,id:19},{index:0,name:"饲喂标准库",imgurl:"/static/images/icon3/jilu5.png",pageurl:"/pagesBiaozhun/siwei/siwei",show:!0,id:20},{index:0,name:"环境标准库",imgurl:"/static/images/icon3/jilu6.png",pageurl:"/pagesBiaozhun/huanjing/huanjing",show:!0,id:21},{index:0,name:"生长标准库",imgurl:"/static/images/icon3/jilu7.png",pageurl:"/pagesBiaozhun/shengzhang/shengzhang",show:!0,id:22}]),m=e.computed((()=>{const e=[];return c.value.forEach((n=>{r.value.forEach((i=>{i===n.id&&e.push(n)}))})),e})),p=e.computed((()=>d.value.filter((e=>r.value.includes(e.id)))||[])),x=e.computed((()=>h.value.filter((e=>r.value.includes(e.id)))||[]));console.log(m.value);const z=()=>{e.index.showModal({title:"退出登录",content:"确定要退出登录吗",success(n){console.log(n),n.confirm&&(e.index.clearStorageSync(),e.index.reLaunch({url:"/pages/login/login"}))}})};e.onShow((()=>{(async()=>{const n={username:e.index.getStorageSync("user").phone},i=(await e.index.$post("/newNotice",n)).data;s.value=i[0].noticeTitle||""})();if(!e.index.getStorageSync("user").phone)return e.index.clearStorageSync(),void e.index.reLaunch({url:"/pages/login/login"});(async()=>{const n={id:e.index.getStorageSync("user").id},i=await e.index.$post("/module",n);r.value=i.data})()}));const f=e.ref();return e.onUnmounted((()=>{clearInterval(f.value)})),e.onLoad((()=>{f.value=setInterval((()=>{t.value=n.getDate()}),1e3)})),(n,i)=>e.e({a:e.f(o.value,((e,n,i)=>({a:e,b:n}))),b:e.t(g.value||"张小会"),c:e.t(t.value||"2021年1月28日"),d:e.o(u),e:e.p({speed:50,"more-text":"查看更多","show-get-more":!0,"show-icon":!0,scrollable:!0,text:s.value}),f:e.unref(m).length>0},e.unref(m).length>0?{g:e.p({type:"line",title:"育种",titleFontSize:"16px",titleFontWeight:"bold"}),h:e.f(e.unref(m),((n,i,a)=>({a:n.imgurl,b:e.t(n.name),c:e.o((e=>l(n)),i),d:"4d999536-3-"+a+",4d999536-2",e:e.p({index:n.index}),f:i}))),i:e.o((e=>{})),j:e.p({column:3,showBorder:!1})}:{},{k:e.unref(p).length>0},e.unref(p).length>0?{l:e.p({type:"line",title:"养殖",titleFontSize:"16px",titleFontWeight:"bold"}),m:e.f(e.unref(p),((n,i,a)=>({a:n.imgurl,b:e.t(n.name),c:e.o((e=>l(n)),i),d:"4d999536-6-"+a+",4d999536-5",e:e.p({index:n.index}),f:i}))),n:e.o((e=>{})),o:e.p({column:3,showBorder:!1})}:{},{p:e.unref(x).length>0},e.unref(x).length>0?{q:e.p({type:"line",title:"标准库",titleFontSize:"16px",titleFontWeight:"bold"}),r:e.f(e.unref(x),((n,i,a)=>({a:n.imgurl,b:e.t(n.name),c:e.o((e=>l(n)),i),d:"4d999536-9-"+a+",4d999536-8",e:e.p({index:n.index}),f:i}))),s:e.o((e=>{})),t:e.p({column:3,showBorder:!1})}:{},{v:e.o(z)})}};wx.createPage(a);
